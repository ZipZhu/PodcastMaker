# 🎙️ PodcastMaker

一个 **本地运行** 的多角色中文播客自动生成工具：把文字脚本 **一键转成自然、清晰、可回听的对话播客音频**。

> 让“记录思考”这件事，比写字还轻松。

---

## ✨ 亮点功能

* 🎭 **双角色对话播客**

  * `A`：女生 ｜ `B`：男生
  * 支持同一角色连续发言，不强制轮流

* 🗣️ **高质量中文语音**

  * 基于 **Microsoft Edge TTS**
  * **无需 GPU / 无需模型下载**，开箱即用

* 📂 **自动化输出管理**

  * 每次运行自动创建时间戳目录
  * 自动保存：

    * 完整播客音频（合并后）
    * 分段音频（逐行生成）
    * 本次使用的脚本文本（便于复盘与归档）

* ⚡ **一键运行**

  * 双击 `run.bat`
  * 任务结束后自动关闭并发送系统通知（如脚本中已启用）

---

## 📁 项目结构

```
PodcastMaker/
├── run.bat               # 一键启动（推荐）
├── run.ps1               # 主执行脚本（PowerShell）
├── make_podcast_edge.py  # 核心逻辑（TTS + 分段 + 合并）
├── script.txt            # 播客脚本（你主要编辑的文件）
├── outputs/
│   └── YYYYMMDD_HHMMSS/
│       ├── podcast_*.mp3
│       ├── script_*.txt
│       └── segments/
└── README.md
```

---

## ✅ 环境要求

* Windows 10 / 11
* Python **3.10+**
* 依赖：

  * `edge-tts`
  * `ffmpeg`（用于音频合并）

---

## 🚀 快速开始（3 步）

### 1) 安装依赖

**安装 Python 包：**

```bash
pip install edge-tts
```

**安装 ffmpeg：**

* 确保 `ffmpeg` 已安装，并且能在命令行直接运行：

```bash
ffmpeg -version
```

> 如果提示找不到命令，请把 ffmpeg 的 `bin` 目录加入系统环境变量 `PATH`。

---

### 2) 编写脚本（script.txt）

脚本规则非常简单：**每行以角色标识开头**

* `A：` 女声
* `B：` 男声

✅ 支持同角色连续多行；✅ 每行可包含多句；❌ 不要求轮流。

示例：

```text
A：今天我们聊聊最近让我反复思考的一件事。
A：这篇文章我读了三遍，每一遍感受都不同。

B：是哪一段触动你最深？

A：作者说“选择本身就是一种放弃”。
B：这句话听起来很轻，但其实很重。
```

> 建议：每行控制在“适合朗读的一口气”长度，效果更像真实播客。

---

### 3) 一键生成播客

双击运行：

```text
run.bat
```

生成结果会出现在：

```text
outputs/YYYYMMDD_HHMMSS/
```

---

## 📦 输出说明

每次运行会生成一个独立目录，便于归档：

* `podcast_*.mp3`：合并后的完整播客
* `script_*.txt`：本次使用的脚本备份
* `segments/`：逐行分段音频（方便剪辑 / 替换 / 重配某句）

---

## 🧠 推荐的 AI 写稿提示词（可直接复制）

> 目标：生成可直接保存为 `script.txt` 的内容（**只输出台词**，不输出解释）。

```text
请写一段中文双人对话播客脚本，必须严格按以下格式输出：

- 只允许两种角色行：A： 与 B：
- A 为女生口吻，B 为男生口吻
- 语气自然、像真实聊天，有停顿感、接话感
- 允许同一角色连续多行，不强制轮流
- 每行适合语音朗读，避免超长句
- 不要输出任何说明、标题、旁白、括号舞台提示
- 全文只输出对话内容

主题：{在这里填主题}
长度：{例如 60~120 行}
风格：{例如：冷静克制/轻松日常/深度复盘}
```

---

## 🛠️ 常见问题（FAQ）

**Q：运行后没有合并成功 / 找不到 ffmpeg？**
A：确认 `ffmpeg -version` 能在命令行正常输出；否则需要配置环境变量 `PATH`。

**Q：中文标点或“冒号”格式会影响识别吗？**
A：请使用全角冒号：`A：` `B：`（与示例一致），并确保每行开头就是角色标识。

**Q：怎么让对话更像真人？**
A：把一行拆短一些，多用“接话式表达”，比如“嗯”“我懂”“但我不确定”等；少写长书面句。

---

## 📝 License

* 个人使用 / 学习 / 研究：可免费使用
* 商业用途：请遵循 Microsoft Edge TTS 相关条款与许可

